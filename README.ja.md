# DecisionGraph Core

**DecisionGraph Core** は、人間の「決定」を
**決定論的（deterministic）なグラフ資産**として記録・走査・再生するための
カーネルです。

> AI は意味を生成できる。
> しかし、意味を確定するのは人間でなければならない。
> DecisionGraph Core は、その「確定した意味」を保存する。

---

> ⚠️ **注意**
> この文書は README.md（英語版）の参考訳です。
> 仕様・解釈・運用上の正式な根拠は、英語版 README.md および Constitution v0.2 を正とします。

---

## これは何か

DecisionGraph Core は、**検索エンジンではありません**。
また、**AI 推論システムでもありません**。

これは、決定を次のような性質を持つものとして扱う
**ドメイン非依存・言語非依存のカーネル**です。

- 明示的である
- 検査可能である
- 再生可能である
- 監査可能である

もしあなたのシステムが次のような問いに答える必要があるなら：

- なぜこの判断がなされたのか？
- この判断は何に依存しているのか？
- 特定の時点では、この判断は有効だったのか？

DecisionGraph Core は、
**推測や解釈を行わずに**それらに答えるための
構造レイヤーを提供します。

---

## これは何ではないか

DecisionGraph Core は、意図的に次のことを行いません。

- AI 推論や意味解釈
- 正しさ・倫理性・品質の評価
- コンテンツ生成
- 判断の最適化やレコメンド
- ワークフローや承認フローの管理

それらは **UI 層**、**ポリシー層**、
あるいは **人間の判断**が担うべき領域です。
カーネルの責務ではありません。

---

## 中核となる考え方

DecisionGraph Core では、決定を
**意見や予測ではなく、状態遷移**として扱います。

- すべての決定には **作者（author）** が存在する
- すべての決定には **コミット点** が存在する
- すべての関係は **明示的** に記述される
- 一度コミットされた構造は **追記のみ（append-only）**

変更は「書き換え」ではなく、
**supersession（上書き関係の追加）**として表現されます。

これにより、決定の履歴は：

- 再生可能であり
- 差分取得が可能であり
- 監査可能であり
- 時間を越えて説明可能

になります。

---

## 設計原則

DecisionGraph Core は **Constitution-first** の設計を採用しています。

- **Constitution（憲章）** が非交渉な要件を定義する
- API や Schema は Constitution に **必ず従う**
- Policy は拡張できるが、憲章を弱めてはならない

主な保証は次のとおりです：

- **決定論性** — 同じ入力は常に同じ結果になる
- **不変性** — コミット後の決定は変更できない
- **再生可能性** — 過去の状態を正確に再構築できる
- **監査可能性** — すべての決定は人間に帰属する
- **Lint 可能性** — 構造違反は事前に検出できる

これらは慣習ではなく、
**カーネルレベルで強制**されます。

---

## グラフとしての決定

各決定はノードとして表現され、
関係は型付きエッジとして明示されます。

```text
Decision A
 └─ depends_on → Decision B
      └─ superseded_by → Decision C
```

暗黙的な意味付けや推論は存在しません。
**構造そのものがデータです。**

---

## 言語非依存性

自然言語は **表示・解釈のためのビュー**として扱われます。

カーネルが扱うのは、
安定した識別子と構造のみです。

これにより：

- 多言語対応

- 決定論的な挙動

- 時間・環境を越えた再生


が可能になります。

---

## 想定される利用領域

DecisionGraph Core は、
**長期にわたって判断責任が問われる領域**に適しています。

- アーキテクチャ決定記録（ADR）

- 研究・実験における推論履歴

- 法務・規制判断の追跡

- ガバナンスや方針変更の管理

- 高リスク・長寿命システムの設計


一般的なエンドユーザー向けツールや
消費者向け AI 機能を目的としてはいません。

---

## ドキュメント構成

### リポジトリ構成（正本の所在）

本リポジトリは **monorepo** 構成です。

```text
docs/
  constitution/v0.2/   # 規範仕様（最上位の正本）
packages/
  core/                # 決定論的カーネル（ドメインモデル・再生・差分）
  schema/              # JSON Schema（構造検証のみ）
  io-json/             # JSON ↔ core の変換・正規化
  cli/                 # CLI ラッパー（非規範）
```
規範上の正本（source of truth）は docs/constitution/v0.2 です。
ドキュメントと実装の間に矛盾がある場合、
Constitution が常に最優先されます。

主要ドキュメント：

- **README.md** — 概要（英語正本）
- **Constitution v0.2** — 規範要件（最上位）
- **JSON Schema v0.2** — データ検証仕様
- **Minimal Kernel API v0.2** — 実装仕様

**推奨読書順：**

1. README
2. Constitution
3. JSON Schema
4. Kernel API

---

## バージョニング

DecisionGraph Core は明示的なバージョニングを行います。

破壊的変更は必ず文書化され、
移行が必要になります。

v0.2 では、不変性の強化、
作者情報の必須化、
状態モデルの統一が導入されました。

---

## OSS 境界

### オープン（本リポジトリ）

- 決定論的グラフモデル

- 検証および再生ロジック

- 憲章による保証

- 言語非依存の構造定義


### 対象外

- 組織的ワークフロー

- 責任帰属の運用システム

- AI エージェントやプロンプト

- 企業固有のガバナンス層


カーネルは中立であり、
あらゆるドメインから再利用可能であることを重視します。

---

## ステータス

- **現在のバージョン:** v0.2

- **安定性:** アクティブ開発中

- **規範上の最終権威:** Constitution v0.2


---

## ライセンス

MIT License

---

## Architectural Integrity

See [INTEGRITY_PLAYBOOK.md](./INTEGRITY_PLAYBOOK.md)
